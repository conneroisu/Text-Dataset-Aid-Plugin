
Example of finetuning dataset
```json
{"prompt":"Company: BHFF insurance\nProduct: allround insurance\nAd:One stop shop for all your insurance needs!\nSupported:", "completion":" yes"}
{"prompt":"Company: Loft conversion specialists\nProduct: -\nAd:Straight teeth in weeks!\nSupported:", "completion":" no"}
```
<svg width="100" height="100" viewBox="0 0 362 362" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="73.5" y="7.5" width="210" height="347" rx="69.5" stroke="white" stroke-width="15"/>
<line x1="99" y1="95" x2="259" y2="95" stroke="white" stroke-width="10"/>
<line x1="99" y1="270" x2="259" y2="270" stroke="white" stroke-width="10"/>
<circle cx="178.5" cy="181.5" r="16.5" stroke="white" stroke-width="16"/>
<circle cx="129.5" cy="230.5" r="16.5" stroke="white" stroke-width="16"/>
<circle cx="129.5" cy="132.5" r="16.5" stroke="white" stroke-width="16"/>
<circle cx="227.5" cy="132.5" r="16.5" stroke="white" stroke-width="16"/>
<circle cx="227.5" cy="230.5" r="16.5" stroke="white" stroke-width="16"/>
<g filter="url(#filter0_d_1_19)">
<path d="M196.239 299.182H186.761C186.83 298.375 186.784 297.648 186.625 297C186.466 296.352 186.193 295.795 185.807 295.33C185.42 294.852 184.915 294.489 184.29 294.239C183.665 293.989 182.92 293.864 182.057 293.864C180.398 293.864 178.915 294.278 177.608 295.108C176.301 295.926 175.216 297.102 174.352 298.636C173.489 300.159 172.875 301.977 172.511 304.091C172.193 306.136 172.182 307.835 172.477 309.188C172.784 310.54 173.381 311.551 174.267 312.222C175.165 312.892 176.33 313.227 177.761 313.227C178.716 313.227 179.591 313.114 180.386 312.886C181.193 312.659 181.909 312.335 182.534 311.915C183.17 311.483 183.71 310.972 184.153 310.381C184.608 309.778 184.955 309.114 185.193 308.386H194.739C194.375 309.864 193.727 311.375 192.795 312.92C191.864 314.455 190.659 315.869 189.182 317.165C187.705 318.449 185.966 319.489 183.966 320.284C181.966 321.08 179.716 321.477 177.216 321.477C173.943 321.477 171.119 320.761 168.744 319.33C166.381 317.898 164.665 315.807 163.597 313.057C162.54 310.307 162.33 306.955 162.966 303C163.602 299.182 164.858 295.983 166.733 293.403C168.608 290.824 170.886 288.881 173.568 287.574C176.25 286.267 179.102 285.614 182.125 285.614C184.409 285.614 186.455 285.915 188.261 286.517C190.08 287.119 191.608 288 192.847 289.159C194.097 290.307 195.017 291.722 195.608 293.403C196.199 295.085 196.409 297.011 196.239 299.182Z" fill="white"/>
</g>
<defs>
<filter id="filter0_d_1_19" x="158.011" y="285.614" width="42.483" height="43.8636" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="4"/>
<feGaussianBlur stdDeviation="2"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1_19"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1_19" result="shape"/>
</filter>
</defs>
</svg>

<svg width="100" height="100" viewBox="0 0 362 362" fill="none" xmlns="http://www.w3.org/2000/svg"> <rect x="73.5" y="7.5" width="210" height="347" rx="69.5" stroke="white" stroke-width="15"/> <line x1="99" y1="95" x2="259" y2="95" stroke="white" stroke-width="10"/> <line x1="99" y1="270" x2="259" y2="270" stroke="white" stroke-width="10"/> <circle cx="178.5" cy="181.5" r="16.5" stroke="white" stroke-width="16"/> <circle cx="129.5" cy="230.5" r="16.5" stroke="white" stroke-width="16"/> <circle cx="129.5" cy="132.5" r="16.5" stroke="white" stroke-width="16"/> <circle cx="227.5" cy="132.5" r="16.5" stroke="white" stroke-width="16"/> <circle cx="227.5" cy="230.5" r="16.5" stroke="white" stroke-width="16"/> <g filter="url(#filter0_d_1_4)"> <path d="M163.068 69L168.864 34.0909H183.932C186.523 34.0909 188.705 34.6023 190.477 35.625C192.25 36.6477 193.523 38.0852 194.295 39.9375C195.068 41.7898 195.25 43.9545 194.841 46.4318C194.432 48.9545 193.523 51.1307 192.114 52.9602C190.716 54.7784 188.932 56.1818 186.761 57.1705C184.602 58.1477 182.182 58.6364 179.5 58.6364H170.5L171.727 51.2727H178.818C179.955 51.2727 180.955 51.0795 181.818 50.6932C182.682 50.2955 183.381 49.7386 183.915 49.0227C184.449 48.2955 184.795 47.4318 184.955 46.4318C185.114 45.4318 185.04 44.5795 184.733 43.875C184.438 43.1591 183.926 42.6136 183.199 42.2386C182.483 41.8523 181.568 41.6591 180.455 41.6591H177.114L172.545 69H163.068Z" fill="white"/> </g> <defs> <filter id="filter0_d_1_4" x="159.068" y="34.0909" width="40.3864" height="42.9091" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"> <feFlood flood-opacity="0" result="BackgroundImageFix"/> <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/> <feOffset dy="4"/> <feGaussianBlur stdDeviation="2"/> <feComposite in2="hardAlpha" operator="out"/> <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/> <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1_4"/> <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1_4" result="shape"/> </filter> </defs> </svg> 

## Personalize your Second Brain Buddy(Text Generation Model)

[![Build obsidian plugin](https://github.com/conneroisu/Text-Dataset-Aid-Plugin/actions/workflows/release.yml/badge.svg)](https://github.com/conneroisu/Text-Dataset-Aid-Plugin/actions/workflows/release.yml)


# Context 
The creation of NLP and text generation datasets are extremely impactual and has the potential to allow for researchers to train models that can automatically generate text. However, the creation of custom datasets is a teadious and slow process.

The text dataset aid is a helpful tool that can aid the creation of finetuning datasets for text generation models like GPT-3 by hand! This can make the text generated by your model after finetuning to be more personalized, detailed, or better formatted. Say no to dealing with menus through hotkey configurations!

This plugin can be used to quickly generate training data for NLP and text generation models. This would speed up research in these areas, as well as make it easier for practitioners to train these models.

The text dataset aid plugin is a helpful tool that can aid the creation of finetuning datasets for text generation models like GPT-3 by hand. This can make the text generated by your model after finetuning to be more personalized, detailed, or better formatted. Say no to dealing with menus through hotkey configurations!

## Context within your second brain 
Updating your own text generation model on your collected dataset whilst working in your second brain allows for your model to better fit your second brain's needs. This plugin fits in any creation or editing workflow because of the nature of commands within obsidian. Hope that you use this plugin as much as I do!

# Advantages of Finetuning
Fintuning your text generation model allows for the creation of text that is more natural and expressive. 
1. increased accuracy in text prediction/generation 
2. increased fluency and coherence in text generation
3. greater control over the style and content of generated text
4. More control over the types of outputs the model produces
5. Greater flexibility in the types of inputs the model can accept
6. The ability to produce more human-like outputs
7. Increased accuracy in the prediction of certain types of outputs

An great resource for fine-tuning principles from [microsoft](https://learn.microsoft.com/en-us/azure/cognitive-services/openai/how-to/prepare-dataset)

# Usage
The core function of this plugin is made easier through the use of vim mode, but should work in either case. 
There are two commands offered currently:(Each of these commands has an acommpanying hotkey configureable from hotkeys) 

When you send the prompt to the dataset if there is already a prompt there, the plugin does nothing. 

When you send the completion to the dataset and there is already a prompt the text selection is sent to the dataset as a completion to that prompt.

## Open Ended Generation Support!
When you send the completion to the dataset  and there is not a prompt, the text selection is inserted into the dataset with a empty prompt prepended to the text selection.

an example of this 
```json
{"prompt":"", "completion":"Hello can I help you?"}
```
another example 
```json 
{"prompt":"", "completion":"Hi, How can I help you today"}
```

Send the Selection to send to your dataset file as prompt
Send the Selection to send to your dataset file as completion

# Installation
## Installing from the community plugins page in obsidian
-   Open Settings > Third-party plugin
-   Make sure Safe mode is **off**
-   Click Browse community plugins
-   Search for "Dataset Finetuning Aid Plugin"
-   Click Install
-   Once installed, close the community plugins window and activate the newly installed plugin
## Manually Installing from github 
-   Download the Latest Release from the Releases section of the GitHub Repository(if you can't find this it should be to the right while your viewing this)
-   Extract the plugin folder from the zip to your vault's plugins folder: `<vault>/.obsidian/plugins/`  
    Note: On some machines the `.obsidian` folder may be hidden. On MacOS you should be able to press `Command+Shift+Dot` to show the folder in Finder.
-   Reload Obsidian

# Settings
There are four main settings that are configurable within the settings panel of the plugin, but the default values are set up for the popular format for datasets for text generation models called jsonl.

| Setting Name          | Description                                                                     | Default       |
| --------------------- | ------------------------------------------------------------------------------- | ------------- |
| Prefix for Prompts    | This is the string that is prepended to the prompt when sent to the dataset     | `{"prompt":`    |
| Suffix for Prompts    | This is the string that is appended to the prompt when sent to the dataset      | `,`             |
| Prefix for Completion | This is the string that is prepended to the completion when sent to the dataset | `"completion":` |
| Suffix for Completion | This is the string that is appended to the completion when sent to the dataset  | `}\n`              |


[Help within development](https://github.com/TfTHacker/obsidian42-text-transporter/blob/main/src/features/transporterFunctions.ts)

# Roadmap 
# `v0.0.1`
- [x] Clone the repository for the sample plugin offered by obsidian ✅ 2022-11-20

- [x] Update the version in `manifest.json` ✅ 2022-11-20
- [x] Update the version in `package.json` ✅ 2022-11-20
- [x] Update the version in `versions.json` 
- [x] New git tag for version ✅ 2022-11-20


# `v0.0.2`
- [x] Rename the interfaces to that of text dataset aid ✅ 2022-11-20

- [x] Update the version in `manifest.json` ✅ 2022-11-20
- [x] Update the version in `package.json` ✅ 2022-11-20
- [x] Update the version in `versions.json` ✅ 2022-11-20
- [x] New git tag for version ✅ 2022-11-20
# `v0.0.3`
- [x] Create Media background for the readme ✅ 2022-11-21
- [x] Complete Readme Page ✅ 2022-11-21
- [x] Update the readme ✅ 2022-11-21
- [x] Renamed sample plugin interfaces ✅ 2022-11-21

- [ ] Update the version in `manifest.json`
- [ ] Update the version in `package.json`
- [ ] Update the version in `versions.json`
- [ ] New git tag for version 

# `v0.0.4`
- [ ] svg logo for the plugin designed
- [ ] embedded logo into plugin directory
- [ ] logo present in the toolbar 

- [ ] Update the version in `manifest.json`
- [ ] Update the version in `package.json`
- [ ] Update the version in `versions.json`
- [ ] New git tag for version 

# `v0.0.5`
- [ ] Media Banner for github designed and embeded into readme
- [ ] Code is refactored and comment annotations


- [ ] Update the version in `manifest.json`
- [ ] Update the version in `package.json`
- [ ] Update the version in `versions.json`
- [ ] New git tag for version 
# `v0.0.6`
- [ ] Prototyped formatting function

- [ ] Update the version in `manifest.json`
- [ ] Update the version in `package.json`
- [ ] Update the version in `versions.json`
- [ ] New git tag for version 
# `v0.0.7`
- [ ] Ensure the printing of a new line after the formatting


- [ ] Update the version in `manifest.json`
- [ ] Update the version in `package.json`
- [ ] Update the version in `versions.json`
- [ ] New git tag for version 
# `v0.1.0`
Fully working send to dataset with formatting

- [ ] Update the version in `manifest.json`
- [ ] Update the version in `package.json`
- [ ] Update the version in `versions.json`
- [ ] New git tag for version 
# `v0.1.1`
- [ ] Update the version in `manifest.json`
- [ ] Update the version in `package.json`
- [ ] Update the version in `versions.json`
- [ ] New git tag for version 

# `v0.1.2`
- [ ] More than one dataset option implemented - A user should be able to have more than one dataset location configurable with a add button in the plugin settings. 

- [ ] Update the version in `manifest.json`
- [ ] Update the version in `package.json`
- [ ] Update the version in `versions.json`
- [ ] New git tag for version 

# Inspiration

Inspired by the efficiency and appeal of fine-tuning your own language model, this plugin allows for you to build datasets from your notes in the form of prompts and responses. Automatically formats the text to the specification of [OpenAI](https://openai.com/) for finetuning models like GPT3.

This plugin shares simularities to the textTransporter Plugin made by [TfTHacker](https://github.com/TfTHacker/obsidian42-text-transporter/)

# Versioning notes
You can simplify the version bump process by running `npm version patch`, `npm version minor` or `npm version major` after updating `minAppVersion` manually in `manifest.json`. The command will bump version in `manifest.json` and `package.json`, and add the entry for the new version to `versions.json`


